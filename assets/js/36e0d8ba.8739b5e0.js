"use strict";(self.webpackChunknemesisdb=self.webpackChunknemesisdb||[]).push([[849],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>y});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var o=r.createContext({}),p=function(e){var t=r.useContext(o),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},d=function(e){var t=p(e.components);return r.createElement(o.Provider,{value:t},e.children)},c="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,o=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),c=p(n),m=a,y=c["".concat(o,".").concat(m)]||c[m]||u[m]||i;return n?r.createElement(y,l(l({ref:t},d),{},{components:n})):r.createElement(y,l({ref:t},d))}));function y(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,l=new Array(i);l[0]=m;var s={};for(var o in t)hasOwnProperty.call(t,o)&&(s[o]=t[o]);s.originalType=e,s[c]="string"==typeof e?e:a,l[1]=s;for(var p=2;p<i;p++)l[p]=n[p];return r.createElement.apply(null,l)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},5231:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>o,contentTitle:()=>l,default:()=>u,frontMatter:()=>i,metadata:()=>s,toc:()=>p});var r=n(7462),a=(n(7294),n(3905));const i={sidebar_position:10,displayed_sidebar:"clientApisSidebar"},l="Overview",s={unversionedId:"client_apis/python/arr/overview",id:"client_apis/python/arr/overview",title:"Overview",description:"Arrays are fixed size containers for JSON objects, strings or integers, implemented in contigious memory. Because they are fixed sized, their length must be defined at creation time, and cannot change.",source:"@site/docs/client_apis/python/arr/overview.md",sourceDirName:"client_apis/python/arr",slug:"/client_apis/python/arr/overview",permalink:"/client_apis/python/arr/overview",draft:!1,tags:[],version:"current",sidebarPosition:10,frontMatter:{sidebar_position:10,displayed_sidebar:"clientApisSidebar"},sidebar:"clientApisSidebar",previous:{title:"Arrays",permalink:"/category/arrays"},next:{title:"create",permalink:"/client_apis/python/arr/create"}},o={},p=[{value:"API",id:"api",level:2},{value:"API Classes",id:"api-classes",level:2},{value:"Sorted vs Unsorted",id:"sorted-vs-unsorted",level:2},{value:"Intersecting",id:"intersecting",level:3},{value:"Swap Items",id:"swap-items",level:3}],d={toc:p},c="wrapper";function u(e){let{components:t,...n}=e;return(0,a.kt)(c,(0,r.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"overview"},"Overview"),(0,a.kt)("p",null,"Arrays are fixed size containers for JSON objects, strings or integers, implemented in contigious memory. Because they are fixed sized, their length must be defined at creation time, and cannot change."),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},'Rather than length, the terms "capacity" and "used" are preferred',(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"capacity"),": the size of the array, allocated when ",(0,a.kt)("inlineCode",{parentName:"li"},"create()")," is called"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"used"),": the number of items in the array. The array is full when ",(0,a.kt)("inlineCode",{parentName:"li"},"used == capacity")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"clear()")," removes items, reducing ",(0,a.kt)("inlineCode",{parentName:"li"},"used")))),(0,a.kt)("li",{parentName:"ul"},"There are sorted and unsorted versions of string and integer arrays, but object arrays cannot be sorted"),(0,a.kt)("li",{parentName:"ul"},"Sorting is always in ascending order"),(0,a.kt)("li",{parentName:"ul"},"Sorted arrays allow for operations such as intersecting")),(0,a.kt)("h2",{id:"api"},"API"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Many API functions use indices, these begin at ",(0,a.kt)("inlineCode",{parentName:"li"},"0")),(0,a.kt)("li",{parentName:"ul"},"In functions that use ",(0,a.kt)("inlineCode",{parentName:"li"},"start")," and ",(0,a.kt)("inlineCode",{parentName:"li"},"stop")," parameters, the ",(0,a.kt)("inlineCode",{parentName:"li"},"stop")," is exclusive")),(0,a.kt)("admonition",{type:"note"},(0,a.kt)("p",{parentName:"admonition"},(0,a.kt)("inlineCode",{parentName:"p"},"start")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"stop")," parameters are similar to Python's ",(0,a.kt)("inlineCode",{parentName:"p"},"range()")," function and splicing."),(0,a.kt)("pre",{parentName:"admonition"},(0,a.kt)("code",{parentName:"pre",className:"language-py"},"values = await arrays.get_rng('some_array_name', start=0, stop=10)\n")),(0,a.kt)("p",{parentName:"admonition"},"Will return values from index ",(0,a.kt)("inlineCode",{parentName:"p"},"0")," to and including ",(0,a.kt)("inlineCode",{parentName:"p"},"9"),".")),(0,a.kt)("br",null),(0,a.kt)("p",null,"There is an API class per array type. You create an instance of the class, passing the ",(0,a.kt)("inlineCode",{parentName:"p"},"NdbClient")," instance:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-py"},"from ndb.client import NdbClient\nfrom ndb.arrays import IntArrays\n\n\nclient = NdbClient()\nawait client.open('ws://127.0.0.1:1987/')\n\n# create API object\narrays = IntArrays(client)\n\n# create array called 'example' with capacity of 4\nawait arrays.create('example', 4)\n\n# in 'example' array, set four integers\n# no `pos` is set so the next available position is used (which is 0 since the array is empty)\nawait arrays.set_rng('example', [100,50,200,10])\n\n# get all values: stop is exclusive\nallValues = await arrays.get_rng('example', start=0, stop=5)\nprint(allValues)\n\n# you can omit 'stop' to return all\n\n")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash",metastring:"title='Output: unsorted'",title:"'Output:","unsorted'":!0},"[100, 50, 200, 10]\n")),(0,a.kt)("p",null,"The same data but with a sorted int array:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-py"},"from ndb.client import NdbClient\nfrom ndb.arrays import SortedIntArrays\n\n\nclient = NdbClient()\nawait client.open('ws://127.0.0.1:1987/')\n\n# this time use the SortedIntArrays API\nsortedArrays = SortedIntArrays(client)\n\n# create an array named 'sorted'\nawait sortedArrays.create('sorted', 4)\n\nawait sortedArrays.set_rng('sorted', [100,50,200,10])\n\n# omit 'stop' to get all items\nallValues = await sortedArrays.get_rng('sorted', start=0)\nprint(allValues)\n")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash",metastring:"title='Output: sorted'",title:"'Output:","sorted'":!0},"[10, 50, 100, 200]\n")),(0,a.kt)("h2",{id:"api-classes"},"API Classes"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:null},"API Class"),(0,a.kt)("th",{parentName:"tr",align:null},"Storage Type"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"OArrays"),(0,a.kt)("td",{parentName:"tr",align:null},"JSON object")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"IntArrays"),(0,a.kt)("td",{parentName:"tr",align:null},"signed integer")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"StringArrays"),(0,a.kt)("td",{parentName:"tr",align:null},"string")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"SortedIntArrays"),(0,a.kt)("td",{parentName:"tr",align:null},"signed integer")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"SortedStringArrays"),(0,a.kt)("td",{parentName:"tr",align:null},"string")))),(0,a.kt)("h2",{id:"sorted-vs-unsorted"},"Sorted vs Unsorted"),(0,a.kt)("h3",{id:"intersecting"},"Intersecting"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"The intersecting algorithm requires the array is sorted"),(0,a.kt)("li",{parentName:"ul"},"The same will apply as other operations are added, such as union")),(0,a.kt)("h3",{id:"swap-items"},"Swap Items"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Items can't be swapped in a sorted array as this would break ordering")))}u.isMDXComponent=!0}}]);